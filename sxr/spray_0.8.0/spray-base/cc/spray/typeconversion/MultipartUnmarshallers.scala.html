<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>cc/spray/typeconversion/MultipartUnmarshallers.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*
 * Copyright (C) 2011 Mathias Doenitz
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="keyword">package</span> cc.spray
<span class="keyword">package</span> typeconversion

<span class="keyword">import</span> http._
<span class="keyword">import</span> <a href="../http/MediaType.scala.html#9667" title="object cc.spray.http.MediaTypes">MediaTypes</a>._
<span class="keyword">import</span> <a href="../http/MediaType.scala.html#9662" title="object cc.spray.http.MediaRanges">MediaRanges</a>._
<span class="keyword">import</span> collection.<span title="object scala.collection.JavaConverters">JavaConverters</span>._
<span class="keyword">import</span> java.io.<span class="delimiter">{</span>ByteArrayOutputStream, ByteArrayInputStream<span class="delimiter">}</span>
<span class="keyword">import</span> org.parboiled.common.FileUtils
<span class="keyword">import</span> <a href="../http/HttpHeader.scala.html#9606" title="object cc.spray.http.HttpHeaders">HttpHeaders</a>._
<span class="keyword">import</span> <a href="../http/HttpCharset.scala.html#9553" title="object cc.spray.http.HttpCharsets">HttpCharsets</a>._
<span class="keyword">import</span> org.jvnet.mimepull.<span class="delimiter">{</span>MIMEConfig, MIMEMessage<span class="delimiter">}</span>
<span class="keyword">import</span> utils._

<span class="keyword">trait</span> <a title="trait MultipartUnmarshallers extends java.lang.Object with ScalaObject" id="9948">MultipartUnmarshallers</a> <span title="ScalaObject" class="delimiter">{</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="MultipartContentUnmarshaller extends cc.spray.typeconversion.UnmarshallerBase[cc.spray.http.MultipartContent]" id="34620">MultipartContentUnmarshaller</a> = <a href="#35352" title="cc.spray.typeconversion.UnmarshallerBase[cc.spray.http.MultipartContent]{val mimeParsingConfig: org.jvnet.mimepull.MIMEConfig; def parseBodyParts(buf: Array[Byte],boundary: String): cc.spray.http.MultipartContent}" class="keyword">new</a> <a title="anonymous class $anon extends cc.spray.typeconversion.UnmarshallerBase[cc.spray.http.MultipartContent]" id="35352">UnmarshallerBase</a><span class="delimiter">[</span>MultipartContent<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[cc.spray.http.ContentTypeRange]" id="35354">canUnmarshalFrom</a> = <a href="../http/ContentType.scala.html#29934" title="(mediaRange: cc.spray.http.MediaRange, charsetRange: cc.spray.http.HttpCharsetRange)cc.spray.http.ContentTypeRange">ContentTypeRange</a><span class="delimiter">(</span><a href="../http/MediaType.scala.html#34650" title="=&gt; cc.spray.http.MediaRange">`multipart/*`</a><span class="delimiter">)</span> <a href="#35360" title="(x: cc.spray.http.ContentTypeRange)List[cc.spray.http.ContentTypeRange]">::</a> <span title="object Nil">Nil</span>
    <span class="keyword">val</span> <a title="org.jvnet.mimepull.MIMEConfig" id="35356">mimeParsingConfig</a> = <a href="../utils/package.scala.html#10092" title="(a: org.jvnet.mimepull.MIMEConfig)(f: org.jvnet.mimepull.MIMEConfig =&gt; Unit)org.jvnet.mimepull.MIMEConfig">make</a><span class="delimiter">(</span><span title="org.jvnet.mimepull.MIMEConfig" class="keyword">new</span> <span title="org.jvnet.mimepull.MIMEConfig">MIMEConfig</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#35530" title="org.jvnet.mimepull.MIMEConfig">_</a>.<span title="(x$1: Long)Unit">setMemoryThreshold</span><span class="delimiter">(</span>-<span title="Long(-1L)" class="int">1</span><span class="delimiter">)</span> <span class="comment">// use only in-memory parsing</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(content: cc.spray.http.HttpContent)Either[cc.spray.typeconversion.DeserializationError,cc.spray.http.MultipartContent]" id="35358">unmarshal</a><span class="delimiter">(</span><a title="cc.spray.http.HttpContent" id="35533">content</a>: <a href="../http/HttpContent.scala.html#9562" title="cc.spray.http.HttpContent">HttpContent</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#35533" title="cc.spray.http.HttpContent">content</a>.<a href="../http/HttpContent.scala.html#25394" title="=&gt; cc.spray.http.ContentType">contentType</a>.<a href="../http/ContentType.scala.html#25271" title="=&gt; cc.spray.http.MediaType">mediaType</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="cc.spray.http.MediaTypes.MultipartMediaType" class="delimiter">[</span><a href="../http/MediaType.scala.html#22880" title="cc.spray.http.MediaTypes.MultipartMediaType">MultipartMediaType</a><span class="delimiter">]</span>.<a href="../http/MediaType.scala.html#35332" title="=&gt; Option[String]">boundary</a> <span title="Either[cc.spray.typeconversion.DeserializationError,cc.spray.http.MultipartContent]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Either[cc.spray.typeconversion.DeserializationError,cc.spray.http.MultipartContent]">Some</span><span class="delimiter">(</span><a title="String" id="35535">boundary</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <span title="(b: cc.spray.http.MultipartContent)Right[Nothing,cc.spray.http.MultipartContent]">Right</span><span class="delimiter">(</span><a href="#35359" title="(buf: Array[Byte], boundary: String)cc.spray.http.MultipartContent">parseBodyParts</a><span class="delimiter">(</span><a href="#35533" title="cc.spray.http.HttpContent">content</a>.<a href="../http/HttpContent.scala.html#25396" title="=&gt; Array[Byte]">buffer</a>, <a href="#35535" title="String">boundary</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Left[cc.spray.typeconversion.MalformedContent,Nothing]" id="35547">e</a>: <span title="Exception">Exception</span> =&gt; <span title="(a: cc.spray.typeconversion.MalformedContent)Left[cc.spray.typeconversion.MalformedContent,Nothing]">Left</span><span class="delimiter">(</span><a href="Deserializer.scala.html#35589" title="(errorMessage: String)cc.spray.typeconversion.MalformedContent">MalformedContent</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Could not parse multipart content: &quot;)" class="string">&quot;Could not parse multipart content: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#35547" title="Exception">e</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Left[cc.spray.typeconversion.MalformedContent,Nothing]">None</span> =&gt; <span title="(a: cc.spray.typeconversion.MalformedContent)Left[cc.spray.typeconversion.MalformedContent,Nothing]">Left</span><span class="delimiter">(</span><a href="Deserializer.scala.html#35589" title="(errorMessage: String)cc.spray.typeconversion.MalformedContent">MalformedContent</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Content-Type with a multipart media type must have a \'boundary\' parameter&quot;)" class="string">&quot;Content-Type with a multipart media type must have a 'boundary' parameter&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(buf: Array[Byte], boundary: String)cc.spray.http.MultipartContent" id="35359">parseBodyParts</a><span class="delimiter">(</span><a title="Array[Byte]" id="35544">buf</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="String" id="35545">boundary</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../http/MultipartContent.scala.html#9673" title="cc.spray.http.MultipartContent">MultipartContent</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.jvnet.mimepull.MIMEMessage" id="35606">mimeMsg</a> = <span title="(x$1: java.io.InputStream, x$2: java.lang.String, x$3: org.jvnet.mimepull.MIMEConfig)org.jvnet.mimepull.MIMEMessage" class="keyword">new</span> <span title="org.jvnet.mimepull.MIMEMessage">MIMEMessage</span><span class="delimiter">(</span><span title="java.io.ByteArrayInputStream" class="keyword">new</span> <span title="java.io.ByteArrayInputStream">ByteArrayInputStream</span><span class="delimiter">(</span><a href="#35544" title="Array[Byte]">buf</a><span class="delimiter">)</span>, <a href="#35545" title="String">boundary</a>, <a href="#35356" title="=&gt; org.jvnet.mimepull.MIMEConfig">mimeParsingConfig</a><span class="delimiter">)</span>
      <a href="../http/MultipartContent.scala.html#35629" title="(parts: Seq[cc.spray.http.BodyPart])cc.spray.http.MultipartContent">MultipartContent</a> <span class="delimiter">{</span>
        <a href="#35606" title="org.jvnet.mimepull.MIMEMessage">mimeMsg</a>.<span title="(l: java.util.List[org.jvnet.mimepull.MIMEPart])collection.JavaConverters.AsScala[scala.collection.mutable.Buffer[org.jvnet.mimepull.MIMEPart]]">getAttachments</span>.<span title="=&gt; scala.collection.mutable.Buffer[org.jvnet.mimepull.MIMEPart]">asScala</span>.<span title="(f: org.jvnet.mimepull.MIMEPart =&gt; cc.spray.http.BodyPart)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer[org.jvnet.mimepull.MIMEPart],cc.spray.http.BodyPart,Seq[cc.spray.http.BodyPart]])Seq[cc.spray.http.BodyPart]">map</span> <span class="delimiter">{</span> <a title="org.jvnet.mimepull.MIMEPart" id="37212">part</a> =&gt;
          <span class="keyword">val</span> <a title="List[cc.spray.http.HttpHeader]" id="37213">headers</a>: <span title="List[cc.spray.http.HttpHeader]">List</span><span class="delimiter">[</span>HttpHeader<span class="delimiter">]</span> = <a href="#37212" title="org.jvnet.mimepull.MIMEPart">part</a>.<span title="(l: java.util.List[?0])collection.JavaConverters.AsScala[scala.collection.mutable.Buffer[?0]]">getAllHeaders</span>.<span title="=&gt; scala.collection.mutable.Buffer[?0]">asScala</span>.<span title="(f: ?0 =&gt; cc.spray.http.HttpHeader)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer[?0],cc.spray.http.HttpHeader,List[cc.spray.http.HttpHeader]])List[cc.spray.http.HttpHeader]">map</span> <span class="delimiter">{</span> <a title="?0" id="37275">header</a> =&gt;
            <a href="../http/HttpHeader.scala.html#23308" title="(name: String, value: String)cc.spray.http.HttpHeader">HttpHeader</a><span class="delimiter">(</span><a href="#37275" title="?0">header</a>.<span title="()java.lang.String">getName</span>, <a href="#37275" title="?0">header</a>.<span title="()java.lang.String">getValue</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,cc.spray.http.HttpHeader,List[cc.spray.http.HttpHeader]])scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer[?0],cc.spray.http.HttpHeader,List[cc.spray.http.HttpHeader]]">breakOut</span><span class="delimiter">)</span>
          <a href="../http/MultipartContent.scala.html#37325" title="(headers: List[cc.spray.http.HttpHeader], content: cc.spray.http.HttpContent)cc.spray.http.BodyPart">BodyPart</a><span class="delimiter">(</span>
            headers = <a href="#37213" title="List[cc.spray.http.HttpHeader]">headers</a>,
            content = <a href="../http/HttpContent.scala.html#25371" title="(contentType: cc.spray.http.ContentType, buffer: Array[Byte])cc.spray.http.HttpContent">HttpContent</a><span class="delimiter">(</span>
              contentType = <span class="delimiter">{</span>
                <a href="#37213" title="List[cc.spray.http.HttpHeader]">headers</a>.<span title="(pf: PartialFunction[cc.spray.http.HttpHeader,cc.spray.http.ContentType])(implicit bf: scala.collection.generic.CanBuildFrom[List[cc.spray.http.HttpHeader],cc.spray.http.ContentType,List[cc.spray.http.ContentType]])List[cc.spray.http.ContentType]">collect</span> <a href="#37381" title="cc.spray.http.ContentType" class="delimiter">{</a>
                  <span class="keyword">case</span> <span title="cc.spray.http.ContentType">`Content-Type`</span><span class="delimiter">(</span><a title="cc.spray.http.ContentType" id="37404">t</a><span class="delimiter">)</span> =&gt; <a href="#37404" title="cc.spray.http.ContentType">t</a>
                <span class="delimiter">}</span>.<span title="=&gt; Option[cc.spray.http.ContentType]">headOption</span>.<span title="(default: =&gt; cc.spray.http.ContentType)cc.spray.http.ContentType">getOrElse</span><span class="delimiter">(</span><a href="../http/ContentType.scala.html#25286" title="(mediaType: cc.spray.http.MediaType, charset: cc.spray.http.HttpCharset)cc.spray.http.ContentType">ContentType</a><span class="delimiter">(</span><a href="../http/MediaType.scala.html#22963" title="=&gt; cc.spray.http.MediaType">`text/plain`</a>, <a href="../http/HttpCharset.scala.html#24895" title="=&gt; cc.spray.http.HttpCharset">`US-ASCII`</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// RFC 2046 section 5.1</span>
              <span class="delimiter">}</span>,
              buffer = <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="37445">outputStream</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span><span class="delimiter">(</span><span class="delimiter">)</span>
                <span title="object org.parboiled.common.FileUtils">FileUtils</span>.<span title="(x$1: java.io.InputStream, x$2: java.io.OutputStream)Unit">copyAll</span><span class="delimiter">(</span><a href="#37212" title="org.jvnet.mimepull.MIMEPart">part</a>.<span title="()java.io.InputStream">readOnce</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#37445" title="java.io.ByteArrayOutputStream">outputStream</a><span class="delimiter">)</span>
                <a href="#37445" title="java.io.ByteArrayOutputStream">outputStream</a>.<span title="()Array[Byte]">toByteArray</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,cc.spray.http.BodyPart,Seq[cc.spray.http.BodyPart]])scala.collection.generic.CanBuildFrom[scala.collection.mutable.Buffer[org.jvnet.mimepull.MIMEPart],cc.spray.http.BodyPart,Seq[cc.spray.http.BodyPart]]">breakOut</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="MultipartFormDataUnmarshaller extends cc.spray.typeconversion.UnmarshallerBase[cc.spray.http.MultipartFormData]" id="34622">MultipartFormDataUnmarshaller</a> = <a href="#35175" title="cc.spray.typeconversion.UnmarshallerBase[cc.spray.http.MultipartFormData]{def nameOf(part: cc.spray.http.BodyPart): String}" class="keyword">new</a> <a title="anonymous class $anon extends cc.spray.typeconversion.UnmarshallerBase[cc.spray.http.MultipartFormData]" id="35175">UnmarshallerBase</a><span class="delimiter">[</span>MultipartFormData<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[cc.spray.http.ContentTypeRange]" id="35319">canUnmarshalFrom</a> = <a href="../http/ContentType.scala.html#29934" title="(mediaRange: cc.spray.http.MediaRange, charsetRange: cc.spray.http.HttpCharsetRange)cc.spray.http.ContentTypeRange">ContentTypeRange</a><span class="delimiter">(</span><a href="../http/MediaType.scala.html#35345" title="cc.spray.http.MediaTypes.multipart/form-data" class="keyword">new</a> <a href="../http/MediaType.scala.html#22946" title="cc.spray.http.MediaTypes.multipart/form-data">`multipart/form-data`</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#35323" title="(x: cc.spray.http.ContentTypeRange)List[cc.spray.http.ContentTypeRange]">::</a> <span title="object Nil">Nil</span>

    <span class="keyword">def</span> <a title="(content: cc.spray.http.HttpContent)Either[cc.spray.typeconversion.DeserializationError,cc.spray.http.MultipartFormData]" id="35321">unmarshal</a><span class="delimiter">(</span><a title="cc.spray.http.HttpContent" id="35351">content</a>: <a href="../http/HttpContent.scala.html#9562" title="cc.spray.http.HttpContent">HttpContent</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="UnmarshallerBase.scala.html#34661" title="(content: cc.spray.http.HttpContent)Either[cc.spray.typeconversion.DeserializationError,cc.spray.http.MultipartContent]">MultipartContentUnmarshaller</a><span class="delimiter">(</span><a href="#35351" title="cc.spray.http.HttpContent">content</a><span class="delimiter">)</span>.<span title="=&gt; Either.RightProjection[cc.spray.typeconversion.DeserializationError,cc.spray.http.MultipartContent]">right</span>.<span title="(f: cc.spray.http.MultipartContent =&gt; Either[cc.spray.typeconversion.DeserializationError,cc.spray.http.MultipartFormData])Either[cc.spray.typeconversion.DeserializationError,cc.spray.http.MultipartFormData]">flatMap</span> <span class="delimiter">{</span> <a title="cc.spray.http.MultipartContent" id="37598">mpContent</a> =&gt;
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span title="(b: cc.spray.http.MultipartFormData)Right[Nothing,cc.spray.http.MultipartFormData]">Right</span><span class="delimiter">(</span><a href="../http/MultipartContent.scala.html#37604" title="(parts: Map[String,cc.spray.http.BodyPart])cc.spray.http.MultipartFormData">MultipartFormData</a><span class="delimiter">(</span><a href="#37598" title="cc.spray.http.MultipartContent">mpContent</a>.<a href="../http/MultipartContent.scala.html#35540" title="=&gt; Seq[cc.spray.http.BodyPart]">parts</a>.<span title="(f: cc.spray.http.BodyPart =&gt; (String, cc.spray.http.BodyPart))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[cc.spray.http.BodyPart],(String, cc.spray.http.BodyPart),Map[String,cc.spray.http.BodyPart]])Map[String,cc.spray.http.BodyPart]">map</span><span class="delimiter">(</span><a title="cc.spray.http.BodyPart" id="37627">part</a> =&gt; <a href="#35322" title="(part: cc.spray.http.BodyPart)String">nameOf</a><span title="(x: String)ArrowAssoc[String]" class="delimiter">(</span><a href="#37627" title="cc.spray.http.BodyPart">part</a><span class="delimiter">)</span> <span title="(y: cc.spray.http.BodyPart)(String, cc.spray.http.BodyPart)">-&gt;</span> <a href="#37627" title="cc.spray.http.BodyPart">part</a><span class="delimiter">)</span><span class="delimiter">(</span>collection.<span title="(implicit b: scala.collection.generic.CanBuildFrom[Nothing,(String, cc.spray.http.BodyPart),Map[String,cc.spray.http.BodyPart]])scala.collection.generic.CanBuildFrom[Seq[cc.spray.http.BodyPart],(String, cc.spray.http.BodyPart),Map[String,cc.spray.http.BodyPart]]">breakOut</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Left[cc.spray.typeconversion.MalformedContent,Nothing]" id="37943">e</a>: <span title="Exception">Exception</span> =&gt; <span title="(a: cc.spray.typeconversion.MalformedContent)Left[cc.spray.typeconversion.MalformedContent,Nothing]">Left</span><span class="delimiter">(</span><a href="Deserializer.scala.html#35589" title="(errorMessage: String)cc.spray.typeconversion.MalformedContent">MalformedContent</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Illegal multipart/form-data content: &quot;)" class="string">&quot;Illegal multipart/form-data content: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#37943" title="Exception">e</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(part: cc.spray.http.BodyPart)String" id="35322">nameOf</a><span class="delimiter">(</span><a title="cc.spray.http.BodyPart" id="37628">part</a>: <a href="../http/MultipartContent.scala.html#9679" title="cc.spray.http.BodyPart">BodyPart</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <a href="#37628" title="cc.spray.http.BodyPart">part</a>.<a href="../utils/package.scala.html#10097" title="(seq: scala.collection.immutable.LinearSeq[cc.spray.http.HttpHeader])cc.spray.utils.PimpedLinearSeq[cc.spray.http.HttpHeader]">headers</a>.<a href="../utils/PimpedLinearSeq.scala.html#13183" title="(f: cc.spray.http.HttpHeader =&gt; Option[String])Option[String]">mapFind</a> <a href="#37988" title="Option[String]" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Option[String]">`Content-Disposition`</span><span class="delimiter">(</span><span title="java.lang.String(&quot;form-data&quot;)" class="string">&quot;form-data&quot;</span>, <a title="Map[String,String]" id="38027">parms</a><span class="delimiter">)</span> =&gt; <a href="#38027" title="Map[String,String]">parms</a>.<span title="(key: String)Option[String]">get</span><span class="delimiter">(</span><span title="java.lang.String(&quot;name&quot;)" class="string">&quot;name&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
      <span class="delimiter">}</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.RuntimeException" class="keyword">new</span> <span title="java.lang.RuntimeException">RuntimeException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;unnamed body part (no Content-Disposition header or no \'name\' parameter)&quot;)" class="string">&quot;unnamed body part (no Content-Disposition header or no 'name' parameter)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object cc.spray.typeconversion.MultipartUnmarshallers" id="9949">MultipartUnmarshallers</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#9948" title="cc.spray.typeconversion.MultipartUnmarshallers">MultipartUnmarshaller</a>s
        </pre>
    </body>
</html>