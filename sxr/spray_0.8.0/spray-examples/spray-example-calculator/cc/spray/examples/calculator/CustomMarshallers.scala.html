<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>cc/spray/examples/calculator/CustomMarshallers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> cc.spray
<span class="keyword">package</span> examples.calculator

<span class="keyword">import</span> http._
<span class="keyword">import</span> typeconversion._
<span class="keyword">import</span> <span title="object cc.spray.http.MediaTypes">MediaTypes</span>._

<span class="keyword">trait</span> <a title="trait CustomMarshallers extends java.lang.Object with ScalaObject" id="9915">CustomMarshallers</a> <span title="ScalaObject" class="delimiter">{</span>
  
  <span class="keyword">implicit</span> <span class="keyword">object</span> <a title="object CustomMarshallers.this.DoubleMarshaller" id="13082">DoubleMarshaller</a> <span title="ScalaObject" class="keyword">extends</span> <span title="cc.spray.typeconversion.MarshallerBase[Double]">MarshallerBase</span><span class="delimiter">[</span>Double<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[cc.spray.http.ContentType]" id="18543">canMarshalTo</a> = <span title="(mediaType: cc.spray.http.MediaType)cc.spray.http.ContentType">ContentType</span><span class="delimiter">(</span><span title="=&gt; cc.spray.http.MediaType">`text/xml`</span><span class="delimiter">)</span> <a href="#34027" title="(x: cc.spray.http.ContentType)List[cc.spray.http.ContentType]">::</a> <span title="(mediaType: cc.spray.http.MediaType)cc.spray.http.ContentType">ContentType</span><span class="delimiter">(</span><span title="=&gt; cc.spray.http.MediaType">`text/plain`</span><span class="delimiter">)</span> <a href="#34118" title="(x: cc.spray.http.ContentType)List[cc.spray.http.ContentType]">::</a> <span title="object Nil">Nil</span>

    <span class="keyword">def</span> <a title="(value: Double, contentType: cc.spray.http.ContentType)cc.spray.http.HttpContent" id="18545">marshal</a><span class="delimiter">(</span><a title="Double" id="34168">value</a>: <span title="Double">Double</span>, <a title="cc.spray.http.ContentType" id="34169">contentType</a>: <span title="cc.spray.http.ContentType">ContentType</span><span class="delimiter">)</span> = <a href="#34169" title="cc.spray.http.ContentType">contentType</a> <span title="cc.spray.http.HttpContent" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="cc.spray.http.HttpContent" id="34174">x</a>@ ContentType<span class="delimiter">(</span><span title="=&gt; cc.spray.http.MediaType">`text/xml`</span>, _<span class="delimiter">)</span> =&gt; <span title="(contentType: cc.spray.http.ContentType, string: String)cc.spray.http.HttpContent">HttpContent</span><span class="delimiter">(</span><a href="#34174" title="cc.spray.http.ContentType">x</a>, <span title="java.lang.String(&quot;&lt;double&gt;&quot;)" class="string">&quot;&lt;double&gt;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#34168" title="Double">value</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;&lt;/double&gt;&quot;)" class="string">&quot;&lt;/double&gt;&quot;</span><span class="delimiter">)</span>  
      <span class="keyword">case</span> <a title="cc.spray.http.HttpContent" id="34184">x</a>@ ContentType<span class="delimiter">(</span><span title="=&gt; cc.spray.http.MediaType">`text/plain`</span>, _<span class="delimiter">)</span> =&gt; <span title="(contentType: cc.spray.http.ContentType, string: String)cc.spray.http.HttpContent">HttpContent</span><span class="delimiter">(</span><a href="#34184" title="cc.spray.http.ContentType">x</a>, <a href="#34168" title="Double">value</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Nothing">_</span> =&gt; <span title="Nothing" class="keyword">throw</span> <span title="java.lang.IllegalArgumentException" class="keyword">new</span> <span title="java.lang.IllegalArgumentException">IllegalArgumentException</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
<span class="delimiter">}</span>
        </pre>
    </body>
</html>